@model Koncilia_Contratos.Models.Contrato

@{
    ViewData["Title"] = "Crear Contrato";
}

<!-- Header -->
<div class="mb-5">
    <h1 class="text-xl sm:text-2xl font-semibold text-gray-900 flex items-center gap-2 mb-1">
        <i class="fas fa-plus-circle text-[#0c1791]"></i>
        Crear Nuevo Contrato
    </h1>
    <p class="text-xs text-gray-600">Complete el formulario para registrar un nuevo contrato</p>
</div>

<form asp-action="Create" method="post" class="space-y-4">
    <div asp-validation-summary="ModelOnly" class="bg-red-50 border-l-4 border-red-500 p-3 rounded-lg">
        <div class="flex items-center gap-2">
            <i class="fas fa-exclamation-circle text-red-500"></i>
            <p class="text-xs text-red-700">Por favor corrija los errores antes de continuar.</p>
        </div>
    </div>
    
    <!-- Información General -->
    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
        <div class="px-5 py-3 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-[#f6fbff]">
            <h3 class="text-base font-semibold text-gray-900 flex items-center gap-2">
                <i class="fas fa-info-circle text-[#0c1791]"></i>
                Información General
            </h3>
        </div>
        <div class="p-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Año -->
                <div>
                    <label asp-for="Anio" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="Anio" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="Anio" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Empresa -->
                <div class="sm:col-span-2 lg:col-span-1">
                    <label asp-for="Empresa" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <select asp-for="Empresa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm">
                        <option value="">-- Seleccione una empresa --</option>
                        <option value="KONCILIA">KONCILIA</option>
                        <option value="SKIT">SKIT</option>
                    </select>
                    <span asp-validation-for="Empresa" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Cliente -->
                <div class="sm:col-span-2 lg:col-span-1">
                    <label asp-for="Cliente" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="Cliente" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="Cliente" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Número Contrato -->
                <div>
                    <label asp-for="NumeroContrato" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="NumeroContrato" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="NumeroContrato" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Categoría -->
                <div>
                    <label asp-for="Categoria" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <select asp-for="Categoria" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm">
                        <option value="">-- Seleccione una categoría --</option>
                        <option value="PROYECTO">PROYECTO</option>
                        <option value="SOPORTE">SOPORTE</option>
                        <option value="BOLSA DE HORAS">BOLSA DE HORAS</option>
                        <option value="KONCILIA">KONCILIA</option>
                        <option value="ARRENDAMIENTO">ARRENDAMIENTO</option>
                    </select>
                    <span asp-validation-for="Categoria" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Estado -->
                <div>
                    <label asp-for="Estado" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <select asp-for="Estado" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm">
                        <option value="Activo">Activo</option>
                        <option value="Inactivo">Inactivo</option>
                        <option value="Finalizado">Finalizado</option>
                        <option value="Suspendido">Suspendido</option>
                    </select>
                    <span asp-validation-for="Estado" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Descripción -->
                <div class="sm:col-span-2 lg:col-span-3">
                    <label asp-for="Descripcion" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <textarea asp-for="Descripcion" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm"></textarea>
                    <span asp-validation-for="Descripcion" class="text-red-600 text-xs mt-1 block"></span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tipo de Documento -->
    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
        <div class="px-5 py-3 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-[#f6fbff]">
            <h3 class="text-base font-semibold text-gray-900 flex items-center gap-2">
                <i class="fas fa-file-alt text-[#0c1791]"></i>
                Tipo de Documento
            </h3>
        </div>
        <div class="p-4">
            <div class="flex flex-wrap items-center gap-6">
                <!-- Tipo de Documento - Radio Buttons -->
                <div class="flex items-center gap-4">
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" asp-for="TipoDocumento" value="Contrato" class="w-4 h-4 text-[#0c1791] border-gray-300 focus:ring-[#0c1791] focus:ring-2" />
                        <span class="text-sm text-gray-700">Contrato</span>
                        <div class="w-3 h-3 bg-[#0ff2f2] rounded-sm"></div>
                    </label>
                    
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" asp-for="TipoDocumento" value="Oferta Mercantil" class="w-4 h-4 text-[#0c1791] border-gray-300 focus:ring-[#0c1791] focus:ring-2" />
                        <span class="text-sm text-gray-700">Oferta Mercantil</span>
                        <div class="w-3 h-3 bg-[#0ff2f2] rounded-sm"></div>
                    </label>
                    
                    <label class="flex items-center gap-2 cursor-pointer">
                        <input type="radio" asp-for="TipoDocumento" value="Otrosí" class="w-4 h-4 text-[#0c1791] border-gray-300 focus:ring-[#0c1791] focus:ring-2" />
                        <span class="text-sm text-gray-700">Otrosí</span>
                        <div class="w-3 h-3 bg-[#0ff2f2] rounded-sm"></div>
                    </label>
                </div>
                
                <!-- Número -->
                <div class="flex items-center gap-2">
                    <label asp-for="Numero" class="text-sm text-gray-700 whitespace-nowrap">No</label>
                    <input asp-for="Numero" class="px-3 py-2 border-b-2 border-[#0ff2f2] border-t-0 border-l-0 border-r-0 focus:ring-0 focus:border-[#0c1791] bg-transparent text-sm w-32" placeholder="" />
                    <span asp-validation-for="Numero" class="text-red-600 text-xs"></span>
                </div>
                
                <!-- Valor -->
                <div class="flex items-center gap-2 flex-1 min-w-[200px]">
                    <label asp-for="Valor" class="text-sm text-gray-700 whitespace-nowrap">Valor</label>
                    <input asp-for="Valor" type="number" step="0.01" class="px-3 py-2 border-b-2 border-[#0ff2f2] border-t-0 border-l-0 border-r-0 focus:ring-0 focus:border-[#0c1791] bg-transparent text-sm flex-1" placeholder="" />
                    <span asp-validation-for="Valor" class="text-red-600 text-xs"></span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Información Financiera -->
    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
        <div class="px-5 py-3 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-[#f6fbff]">
            <h3 class="text-base font-semibold text-gray-900 flex items-center gap-2">
                <i class="fas fa-dollar-sign text-[#0c1791]"></i>
                Información Financiera
            </h3>
        </div>
        <div class="p-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Valor Pesos -->
                <div>
                    <label asp-for="ValorPesos" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="ValorPesos" type="number" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="ValorPesos" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Valor Dólares -->
                <div>
                    <label asp-for="ValorDolares" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="ValorDolares" type="number" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="ValorDolares" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Valor Mensual -->
                <div>
                    <label asp-for="ValorMensual" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="ValorMensual" type="number" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="ValorMensual" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Valor Facturado -->
                <div>
                    <label asp-for="ValorFacturado" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="ValorFacturado" type="number" step="0.01" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="ValorFacturado" class="text-red-600 text-xs mt-1 block"></span>
                    <p class="text-xs text-gray-500 mt-1">El % de ejecución y valor pendiente se calculan automáticamente</p>
                </div>
                
                <!-- Número Factura -->
                <div>
                    <label asp-for="NumeroFactura" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="NumeroFactura" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="NumeroFactura" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Número Horas -->
                <div>
                    <label asp-for="NumeroHoras" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="NumeroHoras" type="number" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="NumeroHoras" class="text-red-600 text-xs mt-1 block"></span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Fechas y Póliza -->
    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
        <div class="px-5 py-3 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-[#f6fbff]">
            <h3 class="text-base font-semibold text-gray-900 flex items-center gap-2">
                <i class="fas fa-calendar-alt text-[#0c1791]"></i>
                Fechas y Póliza
            </h3>
        </div>
        <div class="p-4">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <!-- Fecha Inicio -->
                <div>
                    <label asp-for="FechaInicio" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="FechaInicio" type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="FechaInicio" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Fecha Vencimiento -->
                <div>
                    <label asp-for="FechaVencimiento" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="FechaVencimiento" type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="FechaVencimiento" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Número Póliza -->
                <div>
                    <label asp-for="NumeroPoliza" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="NumeroPoliza" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="NumeroPoliza" class="text-red-600 text-xs mt-1 block"></span>
                </div>
                
                <!-- Fecha Vencimiento Póliza -->
                <div>
                    <label asp-for="FechaVencimientoPoliza" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
                    <input asp-for="FechaVencimientoPoliza" type="date" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm" />
                    <span asp-validation-for="FechaVencimientoPoliza" class="text-red-600 text-xs mt-1 block"></span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Observaciones -->
    <div class="bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden">
        <div class="px-5 py-3 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-[#f6fbff]">
            <h3 class="text-base font-semibold text-gray-900 flex items-center gap-2">
                <i class="fas fa-sticky-note text-[#0c1791]"></i>
                Observaciones
            </h3>
        </div>
        <div class="p-4">
            <label asp-for="Observaciones" class="block text-xs font-semibold text-gray-700 mb-1.5"></label>
            <textarea asp-for="Observaciones" rows="4" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#0c1791]/20 focus:border-[#0c1791] transition text-sm"></textarea>
            <span asp-validation-for="Observaciones" class="text-red-600 text-xs mt-1 block"></span>
        </div>
    </div>
    
    <!-- Botones -->
    <div class="flex flex-col sm:flex-row gap-3">
        <button type="submit" class="flex items-center justify-center gap-2 px-5 py-2.5 bg-[#0c1791] text-white font-semibold rounded-lg shadow-sm hover:shadow-md hover:bg-[#0a1478] transition text-sm">
            <i class="fas fa-save"></i>
            Guardar Contrato
        </button>
        <a asp-action="Index" class="flex items-center justify-center gap-2 px-5 py-2.5 bg-white hover:bg-gray-50 border border-gray-200 hover:border-gray-300 text-gray-700 font-semibold rounded-lg shadow-sm hover:shadow-md transition text-sm">
            <i class="fas fa-times"></i>
            Cancelar
        </a>
    </div>
</form>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
